<% if @user.tasks.where(is_completed: true).any? %>
<div class="container-fluid" style="margin-top: 30px;">
<h1 align="center">Good Job! You've completed all these tasks!</h1>
</div>
<div class="container">
  <button type="button" class="btn btn-secondary">
  <%= link_to 'Back', user_tasks_path, style:"color:white"%>
</button>
  <hr>
</div>
<div class="container">

<table class="table table-success">
    <tr>
      <th>Task</th>
      <th>Due</th>
      <th>Tag</th>
      <th>Priority</th>
      <th colspan="2"></th>
    </tr>

    <% @user.tasks.where(is_completed: true).each do |task| %>
      <tr>
        <td><%= task.content %></td>
        <td><%= task.due_date %></td>
        <td><%= task.tag %></td>
        <td><%= task.priority_level %></td>
        <td><%= link_to '', undo_task_path(task.user, task), method: :put, :class => "fas fa-undo" %></td>
        <td><%= link_to '', [task.user, task],
                     method: :delete,
                     data: { confirm: 'Are you sure you want to delete this task?' }, :class => "far fa-trash-alt"%></td>
      </tr>
    <% end %>
  </table>
<% else %>
<div class="container-fluid" style="margin-top: 30px;">
<h1 align="center">You don't have any completed task yet.</h1>
</div>
<hr>
<div class="container">
  <button type="button" class="btn btn-secondary">
  <%= link_to 'Back', user_tasks_path, style:"color:white"%>
</button>
<% end %>

